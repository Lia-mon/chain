import{S as te,i as le,s as ne,k as D,q as A,a as P,l as I,m as F,r as U,h as N,c as O,n as M,b as B,G as b,J as R,u as Q,g as V,v as Z,f as j,K as re,L as q,d as H,M as K,N as se,O as ie,H as oe,P as ue,Q as be,w as fe,e as $,R as qe,T as Je,I as J,U as ye,p as ke,V as Ke,y as ce,z as he,A as me,W as Qe,B as pe,X as Xe,Y as Ze,Z as je}from"../chunks/index.20faa67b.js";import{w as _e}from"../chunks/index.2cf65d35.js";const x=_e([0,1]),We=_e(Array(6).fill([])),G=_e(Array(6).fill(0));function W(t,e,n){const i=[];for(let o=0;o<n;o++)i.push(t+e*o);return i}const Ee=[{name:"BS",value:W(42,6,9)},{name:"AMoE",value:W(70,6,8)},{name:"CWA",value:W(42,20,8)},{name:"Extreme Nova",value:W(60,5,30)},{name:"SR",value:W(110,10,10)},{name:"AR",value:W(45,4,30)},{name:"3 x BS (var 2)",value:[42,48,54,60,66,72,78,84,90,95,101,107,113,119,125,131,137,143,148,154,160,166,172,178,184,190,196]},{name:"3 x AMoE",value:[70,76,82,88,94,100,106,112,123,129,135,141,147,153,159,165,176,182,188,194,200,206,212,218]},{name:"old 3 x BS (var 1)",value:[42,48,54,60,66,72,78,84,90,96,102,108,114,120,126,132,138,144,150,156,162,168,174,180,186,192,198]},{name:"Mystic Breath",value:[42,50,58,66,74,82,90,98,106,114,122,130,138,146,154,162]}];function ee(t,{delay:e=0,duration:n=400}){const i=getComputedStyle(t).height,o=Number(i.match(/\d+/)),c=getComputedStyle(t).marginTop,s=Number(c.match(/\d+/));let u=1;return{delay:e,duration:n,css:(f,m)=>`height: ${f*o}px; 
                        margin-top : ${f*s}px;`+`opacity : ${f*u}`}}function we(t,{delay:e=0,duration:n=400}){const i=getComputedStyle(t).width,o=Number(i.match(/\d+/)),c=getComputedStyle(t).marginLeft;Number(c.match(/\d+/));const s=getComputedStyle(t).marginRight;return Number(s.match(/\d+/)),{delay:e,duration:n,css:(u,f)=>`max-width: ${u*o}px;`}}function Ne(t,e,n){const i=t.slice();return i[13]=e[n],i[14]=e,i[15]=n,i}function Me(t,e,n){const i=t.slice();return i[16]=e[n],i}function Se(t){let e,n=t[16].name+"",i;return{c(){e=D("option"),i=A(n),this.h()},l(o){e=I(o,"OPTION",{class:!0});var c=F(e);i=U(c,n),c.forEach(N),this.h()},h(){e.__value=t[16].value,e.value=e.__value,M(e,"class","svelte-b35f66")},m(o,c){B(o,e,c),b(e,i)},p:oe,d(o){o&&N(e)}}}function Ce(t){let e,n,i,o,c;return{c(){e=D("input"),this.h()},l(s){e=I(s,"INPUT",{type:!0,inputmode:!0,placeholder:!0,class:!0}),this.h()},h(){M(e,"type","text"),M(e,"inputmode","numeric"),M(e,"placeholder",""),M(e,"class","frame-input svelte-b35f66")},m(s,u){B(s,e,u),i=!0,o||(c=R(e,"change",function(){ie(t[8](t[13]))&&t[8](t[13]).apply(this,arguments)}),o=!0)},p(s,u){t=s},i(s){i||(s&&re(()=>{i&&(n||(n=q(e,we,{duration:200},!0)),n.run(1))}),i=!0)},o(s){s&&(n||(n=q(e,we,{duration:200},!1)),n.run(0)),i=!1},d(s){s&&N(e),s&&n&&n.end(),o=!1,c()}}}function De(t){let e,n,i,o,c,s,u,f,m,_,y,d=t[3].includes(t[13]),v,E,k,h,r;function l(){t[12].call(n,t[13])}let a=Ee,p=[];for(let S=0;S<a.length;S+=1)p[S]=Se(Me(t,a,S));let g=d&&Ce(t);return{c(){e=D("div"),n=D("input"),i=P(),o=D("select"),c=D("option"),s=A("Empty");for(let S=0;S<p.length;S+=1)p[S].c();u=D("option"),f=A("Custom"),y=P(),g&&g.c(),v=P(),this.h()},l(S){e=I(S,"DIV",{class:!0});var C=F(e);n=I(C,"INPUT",{type:!0,class:!0}),i=O(C),o=I(C,"SELECT",{name:!0,id:!0,class:!0});var w=F(o);c=I(w,"OPTION",{class:!0});var X=F(c);s=U(X,"Empty"),X.forEach(N);for(let z=0;z<p.length;z+=1)p[z].l(w);u=I(w,"OPTION",{class:!0});var L=F(u);f=U(L,"Custom"),L.forEach(N),w.forEach(N),y=O(C),g&&g.l(C),v=O(C),C.forEach(N),this.h()},h(){M(n,"type","checkbox"),M(n,"class","checky svelte-b35f66"),c.__value="",c.value=c.__value,M(c,"class","svelte-b35f66"),u.__value="-1",u.value=u.__value,M(u,"class","svelte-b35f66"),M(o,"name",m=`${t[0]}-cast${t[13]}`),M(o,"id",_=`${t[0]}-cast${t[13]}`),M(o,"class","selection-menu svelte-b35f66"),M(e,"class","cast-selection svelte-b35f66")},m(S,C){B(S,e,C),b(e,n),n.checked=t[4][t[13]],b(e,i),b(e,o),b(o,c),b(c,s);for(let w=0;w<p.length;w+=1)p[w]&&p[w].m(o,null);b(o,u),b(u,f),b(e,y),g&&g.m(e,null),b(e,v),k=!0,h||(r=[R(n,"change",l),R(o,"change",function(){ie(t[7](t[13]))&&t[7](t[13]).apply(this,arguments)})],h=!0)},p(S,C){if(t=S,C&84&&(n.checked=t[4][t[13]]),C&0){a=Ee;let w;for(w=0;w<a.length;w+=1){const X=Me(t,a,w);p[w]?p[w].p(X,C):(p[w]=Se(X),p[w].c(),p[w].m(o,u))}for(;w<p.length;w+=1)p[w].d(1);p.length=a.length}(!k||C&5&&m!==(m=`${t[0]}-cast${t[13]}`))&&M(o,"name",m),(!k||C&5&&_!==(_=`${t[0]}-cast${t[13]}`))&&M(o,"id",_),C&12&&(d=t[3].includes(t[13])),d?g?(g.p(t,C),C&12&&V(g,1)):(g=Ce(t),g.c(),V(g,1),g.m(e,v)):g&&(Z(),H(g,1,1,()=>{g=null}),j())},i(S){k||(V(g),S&&re(()=>{k&&(E||(E=q(e,ee,{duration:400},!0)),E.run(1))}),k=!0)},o(S){H(g),S&&(E||(E=q(e,ee,{duration:400},!1)),E.run(0)),k=!1},d(S){S&&N(e),K(p,S),g&&g.d(),S&&E&&E.end(),h=!1,se(r)}}}function $e(t){let e,n,i,o=t[1]+1+"",c,s,u,f,m,_,y,d,v,E,k,h,r,l,a,p,g,S,C=t[6](t[2]),w=[];for(let L=0;L<C.length;L+=1)w[L]=De(Ne(t,C,L));const X=L=>H(w[L],1,1,()=>{w[L]=null});return{c(){e=D("fieldset"),n=D("h1"),i=A("Priority "),c=A(o),s=A(" | "),u=A(t[5]),f=P(),m=D("div"),_=D("button"),y=A("x"),d=P(),v=D("button"),E=A("+"),k=P(),h=D("button"),r=A("-"),l=P();for(let L=0;L<w.length;L+=1)w[L].c();this.h()},l(L){e=I(L,"FIELDSET",{class:!0});var z=F(e);n=I(z,"H1",{class:!0});var T=F(n);i=U(T,"Priority "),c=U(T,o),s=U(T," | "),u=U(T,t[5]),T.forEach(N),f=O(z),m=I(z,"DIV",{class:!0});var Y=F(m);_=I(Y,"BUTTON",{class:!0});var de=F(_);y=U(de,"x"),de.forEach(N),d=O(Y),v=I(Y,"BUTTON",{class:!0});var ve=F(v);E=U(ve,"+"),ve.forEach(N),k=O(Y),h=I(Y,"BUTTON",{class:!0});var ge=F(h);r=U(ge,"-"),ge.forEach(N),Y.forEach(N),l=O(z);for(let ae=0;ae<w.length;ae+=1)w[ae].l(z);z.forEach(N),this.h()},h(){M(n,"class","svelte-b35f66"),M(_,"class","svelte-b35f66"),M(v,"class","svelte-b35f66"),M(h,"class","svelte-b35f66"),M(m,"class","unit-buttons svelte-b35f66"),M(e,"class","unit svelte-b35f66")},m(L,z){B(L,e,z),b(e,n),b(n,i),b(n,c),b(n,s),b(n,u),b(e,f),b(e,m),b(m,_),b(_,y),b(m,d),b(m,v),b(v,E),b(m,k),b(m,h),b(h,r),b(e,l);for(let T=0;T<w.length;T+=1)w[T]&&w[T].m(e,null);p=!0,g||(S=[R(_,"click",t[9]),R(v,"click",t[10](1)),R(h,"click",t[10](-1))],g=!0)},p(L,[z]){if((!p||z&2)&&o!==(o=L[1]+1+"")&&Q(c,o),z&477){C=L[6](L[2]);let T;for(T=0;T<C.length;T+=1){const Y=Ne(L,C,T);w[T]?(w[T].p(Y,z),V(w[T],1)):(w[T]=De(Y),w[T].c(),V(w[T],1),w[T].m(e,null))}for(Z(),T=C.length;T<w.length;T+=1)X(T);j()}},i(L){if(!p){for(let z=0;z<C.length;z+=1)V(w[z]);re(()=>{p&&(a||(a=q(e,ee,{duration:400},!0)),a.run(1))}),p=!0}},o(L){w=w.filter(Boolean);for(let z=0;z<w.length;z+=1)H(w[z]);a||(a=q(e,ee,{duration:400},!1)),a.run(0),p=!1},d(L){L&&N(e),K(w,L),L&&a&&a.end(),g=!1,se(S)}}}const Ie=39,Le=14;function xe(t,e,n){let{uid:i=1}=e,{priority:o=0}=e,c=1,s=[],u=Array(5).fill(!1),f=[],m=`Unit ${i+1}`;const _=h=>Array(h).fill(0).map((l,a)=>l+a),y=h=>r=>{if(n(11,f=f.filter(a=>a.cast!==h)),r.target.value==="-1"){n(3,s=[...s,h]);return}if(r.target.value===""){n(3,s=s.filter(a=>a!==h)),n(11,f),n(4,u);return}n(3,s=s.filter(a=>a!==h));const l=r.target.value.split(",").map(a=>Number(a));f.push(...l.map(a=>({frame:a+h*(Le+Ie),unit:o,cast:h,tag:u[h],elements:[]}))),n(11,f),n(4,u)},d=h=>r=>{const l=r.target.value.trim();let a=[];if(l.includes("-")){let p=0;for(const g of l.split("-").map(S=>Number(S)))p+=g,a.push(p)}else a=l.split(",").map(p=>Number(p));if(n(11,f=f.filter(p=>p.cast!==h)),a.some(p=>isNaN(p)||p>6e3)||a.length>150){n(11,f),n(4,u);return}n(11,f=f.filter(p=>p.cast!==h)),f.push(...a.map(p=>({frame:p+h*(Le+Ie),unit:o,cast:h,tag:u[h],elements:[]}))),n(11,f),n(4,u)};function v(){x.update(h=>h.filter(r=>r!==i))}function E(h){return()=>{let a=Math.max(1,Math.min(5,c+h));h<0&&n(11,f=f.filter(p=>p.cast<a)),n(2,c=a)}}function k(h){u[h]=this.checked,n(4,u)}return t.$$set=h=>{"uid"in h&&n(0,i=h.uid),"priority"in h&&n(1,o=h.priority)},t.$$.update=()=>{if(t.$$.dirty&12&&n(3,s=s.filter(h=>h<c)),t.$$.dirty&2064){for(const h of f)h.tag=u[h.cast];n(11,f),n(4,u)}t.$$.dirty&2050&&f.map(h=>{h.unit=o}),t.$$.dirty&2050&&We.update(h=>(h[o]=f,h))},[i,o,c,s,u,m,_,y,d,v,E,f,k]}class et extends te{constructor(e){super(),le(this,e,xe,$e,ne,{uid:0,priority:1})}}function tt(t,e){let n,i=0,o=0;const c=f=>{const m=f.clientX,_=f.clientY;i=m,o=_,n=setTimeout(()=>{const y=Math.abs(m-i)<5,d=Math.abs(_-o)<5;y&&d&&t.dispatchEvent(new CustomEvent("longpress"))},e)},s=f=>{i=f.clientX,o=f.clientY},u=()=>{clearTimeout(n)};return t.addEventListener("pointerdown",c),t.addEventListener("pointermove",s),t.addEventListener("pointerup",u),{update(f){e=f},destroy(){t.removeEventListener("pointerdown",c),t.removeEventListener("pointermove",s),t.removeEventListener("pointerup",u)}}}function lt(t,e=!1){let n=!1,i=0,o=0;const c=m=>{i=m.pageY,n=!0,t.dispatchEvent(new CustomEvent("moveStart"))},s=m=>{n&&e&&(m.preventDefault(),o=m.pageY-i,i=m.pageY,t.dispatchEvent(new CustomEvent("moving",{detail:{value:o}})))},u=m=>{n&&(i=0,n=!1,t.dispatchEvent(new CustomEvent("moveEnd")))},f=m=>{e&&m.preventDefault()};return t.addEventListener("pointerdown",c,{capture:!1}),t.addEventListener("pointermove",s,{capture:!1}),t.addEventListener("pointerup",u,{capture:!1}),t.addEventListener("touchstart",f),{update(m){e=m},destroy(){t.removeEventListener("pointerdown",c),t.removeEventListener("pointermove",s),t.removeEventListener("pointerup",s),t.removeEventListener("touchstart",f)}}}function nt(t){let e,n,i,o;return{c(){e=D("div"),this.h()},l(c){e=I(c,"DIV",{class:!0});var s=F(e);s.forEach(N),this.h()},h(){M(e,"class","top svelte-10dd8lh"),ue(e,"shadow",t[1])},m(c,s){B(c,e,s),t[12](e),i||(o=[be(tt.call(null,e,1600)),be(n=lt.call(null,e,t[1])),R(e,"longpress",t[11]),R(e,"moving",t[2]),R(e,"moveEnd",t[3]),R(e,"moveStart",t[4])],i=!0)},p(c,[s]){n&&ie(n.update)&&s&2&&n.update.call(null,c[1]),s&2&&ue(e,"shadow",c[1])},i:oe,o:oe,d(c){c&&N(e),t[12](null),i=!1,se(o)}}}function rt(t,e){t&&(t.style.minHeight=`${e}px`)}function st(t,e,n){let{frames:i}=e,{delay:o=0}=e,{topDiff:c=0}=e,{breaks:s=[]}=e,{frameSize:u=7}=e,f=0,m=o,_=!1,y=[],d;function v(l){const a=l.detail.value;a!==void 0&&(f+=a,n(5,o=Math.max(0,m+Math.round(f/u))))}function E(l){m=o,f=0}function k(l){m=o,f=0}const h=()=>{n(1,_=!_)};function r(l){fe[l?"unshift":"push"](()=>{d=l,n(0,d),n(5,o),n(9,u)})}return t.$$set=l=>{"frames"in l&&n(6,i=l.frames),"delay"in l&&n(5,o=l.delay),"topDiff"in l&&n(7,c=l.topDiff),"breaks"in l&&n(8,s=l.breaks),"frameSize"in l&&n(9,u=l.frameSize)},t.$$.update=()=>{if(t.$$.dirty&545&&d&&n(0,d.style.paddingTop=`${o*u}px`,d),t.$$.dirty&705&&d){const l=[];let a=[],p=0;for(const g of i){const S=document.createElement("div");if(S.style.flex="1",S.style.height=`${u}px`,S.classList.add(`c-${g.cast}`),l[g.frame]===void 0){const C=document.createElement("div");C.classList.add("mini-container"),C.style.top=`${(g.frame-c-p)*u}px`,C.appendChild(S),l[g.frame]=C,p++}else l[g.frame].appendChild(S)}a=l.filter(g=>g!==void 0),d==null||d.replaceChildren(...a),i.length>0&&rt(d,u*(i[i.length-1].frame-c+2)),n(10,y=[])}if(t.$$.dirty&1281&&d){if(d.children.length>0){for(const l of y)d.children[l[0]].children[l[1]].classList.remove("break");for(const l of s)d.children[l[0]].children[l[1]].classList.add("break")}n(10,y=s.slice())}},[d,_,v,E,k,o,i,c,s,u,y,h,r]}class it extends te{constructor(e){super(),le(this,e,st,nt,ne,{frames:6,delay:5,topDiff:7,breaks:8,frameSize:9})}}function at(t){const e=t-1;return e*e*e+1}function Te(t,{delay:e=0,duration:n=400,easing:i=at,axis:o="y"}={}){const c=getComputedStyle(t),s=+c.opacity,u=o==="y"?"height":"width",f=parseFloat(c[u]),m=o==="y"?["top","bottom"]:["left","right"],_=m.map(r=>`${r[0].toUpperCase()}${r.slice(1)}`),y=parseFloat(c[`padding${_[0]}`]),d=parseFloat(c[`padding${_[1]}`]),v=parseFloat(c[`margin${_[0]}`]),E=parseFloat(c[`margin${_[1]}`]),k=parseFloat(c[`border${_[0]}Width`]),h=parseFloat(c[`border${_[1]}Width`]);return{delay:e,duration:n,easing:i,css:r=>`overflow: hidden;opacity: ${Math.min(r*20,1)*s};${u}: ${r*f}px;padding-${m[0]}: ${r*y}px;padding-${m[1]}: ${r*d}px;margin-${m[0]}: ${r*v}px;margin-${m[1]}: ${r*E}px;border-${m[0]}-width: ${r*k}px;border-${m[1]}-width: ${r*h}px;`}}function ot(t,e,n,i){let o=Array(e).fill(0),c=Array(e).fill(0),s=Array(e);for(let d=0;d<e;d++)s[d]=[];let u=0,f=0,m=0;const _=(d,v)=>{let E=0;for(;o[d]+E<t[d].length;){const k=o[d]+E;if(t[d][k].frame+n[d]-i[d]!=v)break;E++}return E},y=()=>{let d=Number.MAX_SAFE_INTEGER,v=0;for(let E=e-1;E>=0;E--)if(o[E]<t[E].length){const k=t[E][o[E]].frame+n[E]-i[E];k<=d&&(v=E,d=k)}return v};for(f=-1,m=Math.min(...n);o.some((d,v)=>d<t[v].length);){u=y();const d=t[u][o[u]],v=d.frame+n[u]-i[u];v-m>20&&s[u].push([c[u],0,"gap more than 20 frames"]),u===f&&!d.tag&&s[u].push([c[u],0,"same unit in a row"]);let E={},k=1,h=1;for(let r=0;r<e;r++){const l=_(r,v);if(l!==0){if(E[`${l}`]?E[`${l}`].unshift(r):E[`${l}`]=[r],o[r]+=l,c[r]++,l>=h){k=h,h=l;continue}l>k&&(k=l)}}if(u=E[`${h}`][0],h>k)for(let r=k;r<h;r++)t[u][o[u]+r-h].tag||s[u].push([c[u]-1,r,"packed frame without pair"]);m=v,f=u}return s}function ze(t,e,n){const i=t.slice();return i[14]=e[n],i[16]=n,i}function Ae(t,e,n){const i=t.slice();return i[14]=e[n],i[17]=e,i[16]=n,i}function Ue(t,e,n){const i=t.slice();return i[14]=e[n],i[16]=n,i}function Fe(t,e,n){const i=t.slice();return i[14]=e[n],i[19]=e,i[16]=n,i}function Be(t,e){let n,i,o=`Delay for prio ${e[16]+1} | unit ${e[14]+1}`,c,s,u,f,m,_,y,d,v,E,k;function h(){e[10].call(f,e[14])}return{key:t,first:null,c(){n=D("div"),i=D("label"),c=A(o),u=P(),f=D("input"),_=P(),y=D("input"),v=P(),this.h()},l(r){n=I(r,"DIV",{class:!0});var l=F(n);i=I(l,"LABEL",{for:!0,class:!0});var a=F(i);c=U(a,o),a.forEach(N),u=O(l),f=I(l,"INPUT",{type:!0,min:!0,max:!0,name:!0,class:!0}),_=O(l),y=I(l,"INPUT",{type:!0,min:!0,class:!0}),v=O(l),l.forEach(N),this.h()},h(){M(i,"for",s=`prio-${e[16]}`),M(i,"class","svelte-18w81zs"),M(f,"type","range"),M(f,"min","0"),M(f,"max","100"),M(f,"name",m=`prio-${e[16]}`),M(f,"class","svelte-18w81zs"),M(y,"type","number"),y.value=d=e[4][e[14]],M(y,"min","0"),M(y,"class","svelte-18w81zs"),M(n,"class","control svelte-18w81zs"),this.first=n},m(r,l){B(r,n,l),b(n,i),b(i,c),b(n,u),b(n,f),ye(f,e[4][e[14]]),b(n,_),b(n,y),b(n,v),E||(k=[R(f,"change",h),R(f,"input",h),R(y,"input",function(){ie(e[8](e[14]))&&e[8](e[14]).apply(this,arguments)})],E=!0)},p(r,l){e=r,l&8&&o!==(o=`Delay for prio ${e[16]+1} | unit ${e[14]+1}`)&&Q(c,o),l&8&&s!==(s=`prio-${e[16]}`)&&M(i,"for",s),l&8&&m!==(m=`prio-${e[16]}`)&&M(f,"name",m),l&24&&ye(f,e[4][e[14]]),l&24&&d!==(d=e[4][e[14]])&&y.value!==d&&(y.value=d)},d(r){r&&N(n),E=!1,se(k)}}}function Pe(t){let e,n,i=t[16]+1+"",o,c,s=Math.round(t[4][t[14]])-t[1][t[16]]+t[6]+"",u,f;return{c(){e=D("div"),n=A("Priority "),o=A(i),c=A(" is thrown after "),u=A(s),f=A(` frames.
        `)},l(m){e=I(m,"DIV",{});var _=F(e);n=U(_,"Priority "),o=U(_,i),c=U(_," is thrown after "),u=U(_,s),f=U(_,` frames.
        `),_.forEach(N)},m(m,_){B(m,e,_),b(e,n),b(e,o),b(e,c),b(e,u),b(e,f)},p(m,_){_&90&&s!==(s=Math.round(m[4][m[14]])-m[1][m[16]]+m[6]+"")&&Q(u,s)},d(m){m&&N(e)}}}function Oe(t){let e,n,i,o,c,s=t[7](t[5])+"",u,f,m,_,y,d=t[3],v=[];for(let r=0;r<d.length;r+=1)v[r]=Ve(Ae(t,d,r));const E=r=>H(v[r],1,1,()=>{v[r]=null});let k=t[3],h=[];for(let r=0;r<k.length;r+=1)h[r]=Re(ze(t,k,r));return{c(){e=D("div");for(let r=0;r<v.length;r+=1)v[r].c();n=P(),i=D("div"),o=D("span"),c=A("There's "),u=A(s),f=A(" breaks."),m=P();for(let r=0;r<h.length;r+=1)h[r].c();this.h()},l(r){e=I(r,"DIV",{class:!0,style:!0});var l=F(e);for(let g=0;g<v.length;g+=1)v[g].l(l);n=O(l),i=I(l,"DIV",{class:!0});var a=F(i);o=I(a,"SPAN",{});var p=F(o);c=U(p,"There's "),u=U(p,s),f=U(p," breaks."),p.forEach(N),m=O(a);for(let g=0;g<h.length;g+=1)h[g].l(a);a.forEach(N),l.forEach(N),this.h()},h(){M(i,"class","infobar svelte-18w81zs"),ue(i,"expand",ft),M(e,"class","container-visual svelte-18w81zs"),ke(e,"grid-template-columns","repeat("+t[3].length+",1fr) 4.5%")},m(r,l){B(r,e,l);for(let a=0;a<v.length;a+=1)v[a]&&v[a].m(e,null);b(e,n),b(e,i),b(i,o),b(o,c),b(o,u),b(o,f),b(i,m);for(let a=0;a<h.length;a+=1)h[a]&&h[a].m(i,null);t[12](e),y=!0},p(r,l){if(l&59){d=r[3];let a;for(a=0;a<d.length;a+=1){const p=Ae(r,d,a);v[a]?(v[a].p(p,l),V(v[a],1)):(v[a]=Ve(p),v[a].c(),V(v[a],1),v[a].m(e,n))}for(Z(),a=d.length;a<v.length;a+=1)E(a);j()}if((!y||l&32)&&s!==(s=r[7](r[5])+"")&&Q(u,s),l&90){k=r[3];let a;for(a=0;a<k.length;a+=1){const p=ze(r,k,a);h[a]?h[a].p(p,l):(h[a]=Re(p),h[a].c(),h[a].m(i,null))}for(;a<h.length;a+=1)h[a].d(1);h.length=k.length}(!y||l&8)&&ke(e,"grid-template-columns","repeat("+r[3].length+",1fr) 4.5%")},i(r){if(!y){for(let l=0;l<d.length;l+=1)V(v[l]);re(()=>{y&&(_||(_=q(e,Te,{axis:"x"},!0)),_.run(1))}),y=!0}},o(r){v=v.filter(Boolean);for(let l=0;l<v.length;l+=1)H(v[l]);_||(_=q(e,Te,{axis:"x"},!1)),_.run(0),y=!1},d(r){r&&N(e),K(v,r),K(h,r),t[12](null),r&&_&&_.end()}}}function Ve(t){let e,n,i;function o(s){t[11](s,t[14])}let c={frameSize:Ge,frames:t[0][t[16]],topDiff:t[1][t[16]],breaks:t[5][t[16]]};return t[4][t[14]]!==void 0&&(c.delay=t[4][t[14]]),e=new it({props:c}),fe.push(()=>Ke(e,"delay",o)),{c(){ce(e.$$.fragment)},l(s){he(e.$$.fragment,s)},m(s,u){me(e,s,u),i=!0},p(s,u){t=s;const f={};u&1&&(f.frames=t[0][t[16]]),u&2&&(f.topDiff=t[1][t[16]]),u&32&&(f.breaks=t[5][t[16]]),!n&&u&24&&(n=!0,f.delay=t[4][t[14]],Qe(()=>n=!1)),e.$set(f)},i(s){i||(V(e.$$.fragment,s),i=!0)},o(s){H(e.$$.fragment,s),i=!1},d(s){pe(e,s)}}}function Re(t){let e,n,i=t[16]+1+"",o,c,s=t[4][t[14]]-t[1][t[16]]+t[6]+"",u,f;return{c(){e=D("span"),n=A("p"),o=A(i),c=A(":"),u=A(s),f=P()},l(m){e=I(m,"SPAN",{});var _=F(e);n=U(_,"p"),o=U(_,i),c=U(_,":"),u=U(_,s),f=O(_),_.forEach(N)},m(m,_){B(m,e,_),b(e,n),b(e,o),b(e,c),b(e,u),b(e,f)},p(m,_){_&90&&s!==(s=m[4][m[14]]-m[1][m[16]]+m[6]+"")&&Q(u,s)},d(m){m&&N(e)}}}function ut(t){let e,n=[],i=new Map,o,c,s,u,f,m,_,y,d,v=t[3];const E=l=>l[14];for(let l=0;l<v.length;l+=1){let a=Fe(t,v,l),p=E(a);i.set(p,n[l]=Be(p,a))}let k=t[3],h=[];for(let l=0;l<k.length;l+=1)h[l]=Pe(Ue(t,k,l));let r=t[3].length>0&&Oe(t);return{c(){e=D("div");for(let l=0;l<n.length;l+=1)n[l].c();o=P(),c=D("hr"),s=P(),u=D("div");for(let l=0;l<h.length;l+=1)h[l].c();f=P(),m=D("hr"),_=P(),r&&r.c(),y=$(),this.h()},l(l){e=I(l,"DIV",{class:!0});var a=F(e);for(let g=0;g<n.length;g+=1)n[g].l(a);a.forEach(N),o=O(l),c=I(l,"HR",{}),s=O(l),u=I(l,"DIV",{});var p=F(u);for(let g=0;g<h.length;g+=1)h[g].l(p);p.forEach(N),f=O(l),m=I(l,"HR",{}),_=O(l),r&&r.l(l),y=$(),this.h()},h(){M(e,"class","container-controls svelte-18w81zs")},m(l,a){B(l,e,a);for(let p=0;p<n.length;p+=1)n[p]&&n[p].m(e,null);B(l,o,a),B(l,c,a),B(l,s,a),B(l,u,a);for(let p=0;p<h.length;p+=1)h[p]&&h[p].m(u,null);B(l,f,a),B(l,m,a),B(l,_,a),r&&r.m(l,a),B(l,y,a),d=!0},p(l,[a]){if(a&280&&(v=l[3],n=qe(n,a,E,1,l,v,i,e,Je,Be,null,Fe)),a&90){k=l[3];let p;for(p=0;p<k.length;p+=1){const g=Ue(l,k,p);h[p]?h[p].p(g,a):(h[p]=Pe(g),h[p].c(),h[p].m(u,null))}for(;p<h.length;p+=1)h[p].d(1);h.length=k.length}l[3].length>0?r?(r.p(l,a),a&8&&V(r,1)):(r=Oe(l),r.c(),V(r,1),r.m(y.parentNode,y)):r&&(Z(),H(r,1,1,()=>{r=null}),j())},i(l){d||(V(r),d=!0)},o(l){H(r),d=!1},d(l){l&&N(e);for(let a=0;a<n.length;a+=1)n[a].d();l&&N(o),l&&N(c),l&&N(s),l&&N(u),K(h,l),l&&N(f),l&&N(m),l&&N(_),r&&r.d(l),l&&N(y)}}}const Ge=9;let ft=!1;function ct(t,e,n){let i,o,c,s,u;J(t,x,r=>n(3,c=r)),J(t,G,r=>n(4,s=r)),J(t,We,r=>n(9,u=r));let f=Array(6).fill([]),m=Array(6).fill(0),_;const y=r=>{let l=0;for(const a of r)l+=a.length;return l},d=(r,l)=>r.frame!==l.frame?r.frame-l.frame:r.cast!==l.cast?r.cast-l.cast:0,v=r=>l=>{if(l.preventDefault(),l.target){const a=l.target;a.value=`${Math.max(0,Number(a.value))}`,Xe(G,s[r]=Number(a.value),s)}else return};function E(r){s[r]=Ze(this.value),G.set(s)}function k(r,l){t.$$.not_equal(s[l],r)&&(s[l]=r,G.set(s))}function h(r){fe[r?"unshift":"push"](()=>{_=r,n(2,_),n(3,c)})}return t.$$.update=()=>{if(t.$$.dirty&521)for(let r=0;r<c.length;r++)n(0,f[r]=u[r].slice().sort(d),f),f[r][0]!==void 0&&n(1,m[r]=f[r][0].frame,m);t.$$.dirty&2&&n(6,i=Math.max(...m)),t.$$.dirty&27&&n(5,o=ot(f,c.length,s,m)),t.$$.dirty&12&&_&&n(2,_.style.backgroundSize=`${(100-4.5)/c.length}% ${Ge}px`,_)},[f,m,_,c,s,o,i,y,v,u,E,k,h]}class ht extends te{constructor(e){super(),le(this,e,ct,ut,ne,{})}}function He(t,e,n){const i=t.slice();return i[4]=e[n],i}function Ye(t,e){let n,i,o;function c(...s){return e[2](e[4],...s)}return i=new et({props:{uid:e[4],priority:e[0].findIndex(c)}}),{key:t,first:null,c(){n=$(),ce(i.$$.fragment),this.h()},l(s){n=$(),he(i.$$.fragment,s),this.h()},h(){this.first=n},m(s,u){B(s,n,u),me(i,s,u),o=!0},p(s,u){e=s;const f={};u&1&&(f.uid=e[4]),u&1&&(f.priority=e[0].findIndex(c)),i.$set(f)},i(s){o||(V(i.$$.fragment,s),o=!0)},o(s){H(i.$$.fragment,s),o=!1},d(s){s&&N(n),pe(i,s)}}}function mt(t){let e,n,i,o,c,s=[],u=new Map,f,m,_,y,d,v,E,k=t[0];const h=r=>r[4];for(let r=0;r<k.length;r+=1){let l=He(t,k,r),a=h(l);u.set(a,s[r]=Ye(a,l))}return y=new ht({}),{c(){e=D("div"),n=D("button"),i=A("Add a unit +"),o=P(),c=D("div");for(let r=0;r<s.length;r+=1)s[r].c();f=P(),m=D("hr"),_=P(),ce(y.$$.fragment),this.h()},l(r){e=I(r,"DIV",{class:!0});var l=F(e);n=I(l,"BUTTON",{class:!0});var a=F(n);i=U(a,"Add a unit +"),a.forEach(N),o=O(l),c=I(l,"DIV",{class:!0});var p=F(c);for(let g=0;g<s.length;g+=1)s[g].l(p);p.forEach(N),f=O(l),m=I(l,"HR",{}),_=O(l),he(y.$$.fragment,l),l.forEach(N),this.h()},h(){M(n,"class","svelte-1e368iq"),M(c,"class","unit-flex svelte-1e368iq"),M(e,"class","wrapper svelte-1e368iq")},m(r,l){B(r,e,l),b(e,n),b(n,i),b(e,o),b(e,c);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(c,null);b(e,f),b(e,m),b(e,_),me(y,e,null),d=!0,v||(E=R(n,"click",t[1]),v=!0)},p(r,[l]){l&1&&(k=r[0],Z(),s=qe(s,l,h,1,r,k,u,c,je,Ye,null,He),j())},i(r){if(!d){for(let l=0;l<k.length;l+=1)V(s[l]);V(y.$$.fragment,r),d=!0}},o(r){for(let l=0;l<s.length;l+=1)H(s[l]);H(y.$$.fragment,r),d=!1},d(r){r&&N(e);for(let l=0;l<s.length;l+=1)s[l].d();pe(y),v=!1,E()}}}function pt(t,e,n){let i,o;J(t,G,u=>n(3,i=u)),J(t,x,u=>n(0,o=u));function c(){if(o.length>=6)return;const f=[0,1,2,3,4,5].find(m=>!o.includes(m));f!==void 0&&(x.update(m=>[...m,f]),Xe(G,i[f]=0,i))}return[o,c,(u,f)=>f===u]}class vt extends te{constructor(e){super(),le(this,e,pt,mt,ne,{})}}export{vt as component};
